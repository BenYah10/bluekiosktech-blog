<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Titre & description (mis Ã  jour dynamiquement) -->
  <title id="postTitleTag">Article â€” BlueKioskTech</title>
  <meta name="description" id="postDescTag" content="Article du blog BlueKioskTech." />

  <!-- Styles -->
  <link rel="stylesheet" href="assets/css/main.css" />

  <!-- Canonical & alternates (renseignÃ©s via JS) -->
  <link rel="canonical" href="" id="canonicalLink" />
  <link rel="alternate" hreflang="fr" href="" id="altFr" />
  <link rel="alternate" hreflang="en" href="" id="altEn" />
  <link rel="alternate" hreflang="x-default" href="" id="altX" />

  <!-- Open Graph / Twitter (complÃ©tÃ©s via JS) -->
  <meta property="og:site_name" content="Bluekiosktech Blog" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="" id="ogTitle" />
  <meta property="og:description" content="" id="ogDesc" />
  <meta property="og:url" content="" id="ogUrl" />
  <meta property="og:image" content="https://www.bluekiosktech.blog/assets/images/og-blog.jpg" id="ogImage" />
  <meta name="twitter:card" content="summary_large_image" />
</head>
<body class="theme-light">
  <script>window.FEED_SOURCE = 'sanity';</script>

  <!-- HEADER -->
  <header class="site-header">
    <div class="container row between center">
      <a class="logo" href="index.html">
        <img src="assets/images/logo-blog.svg" alt="Bluekiosktech" />
        <span class="sr-only">Bluekiosktech.blog</span>
      </a>

      <nav id="nav" class="nav">
        <a href="index.html" data-i18n="nav_home">Accueil</a>
        <a href="blog.html" class="active" data-i18n="nav_blog">Articles</a>
        <a href="about.html" data-i18n="nav_about">Ã€ propos</a>
        <a href="contact.html" data-i18n="nav_contact">Contact</a>
      </nav>

      <div class="actions">
        <button id="themeToggle" aria-label="Basculer le thÃ¨me">ðŸŒ“</button>
        <button id="menuToggle" class="only-mobile" aria-label="Menu" type="button">â˜°</button>
      </div>

      <div class="lang-switch lang--header" aria-label="Language switch">
        <button id="lang-fr" class="is-active" aria-pressed="true">FR</button>
        <button id="lang-en" aria-pressed="false">EN</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Contenu de lâ€™article -->
    <article class="post">
  <header class="post-header">
    <h1 id="post-title"></h1>
    <p id="post-meta" class="post-meta"></p>
    <div id="post-cover" class="post-cover"></div>
  </header>

  <section id="post-body" class="post-body"></section>
</article>

   <!-- Aside -->
    <aside class="post-aside">
      <div class="card">
        <h3 data-i18n="cta_pilote_title">Devenir site pilote</h3>
        <p data-i18n="cta_pilote_desc">IntÃ©ressÃ© par un pilote dans votre gym/bureau/campus ?</p>
        <p><a class="btn" href="contact.html" data-i18n="cta_contact">Nous contacter</a></p>
      </div>

      <div class="card">
        <h3 data-i18n="cta_feedback_title">Vos retours</h3>
        <p data-i18n="cta_feedback_desc">Vos retours nous aident Ã  amÃ©liorer le produit.</p>
        <p><a class="btn" href="https://www.bluekiosk.tech/?utm_source=blog&utm_medium=hero&utm_campaign=feedback" data-i18n="cta_feedback">Donner votre avis</a></p>
      </div>
    </aside>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container row between">
      <p>Â© <span id="year"></span> Bluekiosktech.
        <span data-i18n="footer_copy">Tous droits rÃ©servÃ©s.</span>
      </p>
      <p><a href="privacy.html" data-i18n="footer_privacy">Politique de confidentialitÃ©</a></p>
    </div>
  </footer>

  <!-- Scripts (ordre important) -->
  <script src="assets/js/i18n.js"></script>
  <script src="assets/js/data.js"></script>
  <script src="assets/js/render.js"></script>
  <script src="assets/js/main.js"></script>

  <h1 id="post-title"></h1>
  <div id="post-meta" class="muted"></div>
  <div id="post-cover"></div>
  <article id="post-content"></article>
   <!-- <script defer src="/assets/js/cms-posts.js"></script> -->

  
  <!-- SEO runtime: canonical, og:url, hreflang, JSON-LD BlogPosting -->
  <script>
  (function () {
    var u = new URL(location.href);
    var id = u.searchParams.get('id') || '';
    var lang = (u.searchParams.get('lang') || 'fr').toLowerCase();
    if (!['fr','en'].includes(lang)) lang = 'fr';

    // <html lang=â€¦>
    document.documentElement.setAttribute('lang', lang);

    // Compose canonical URL with params
    var canon = location.origin + location.pathname +
      (id ? ('?id=' + encodeURIComponent(id) + '&lang=' + lang) : '');

    // Canonical + alternates
    document.getElementById('canonicalLink').setAttribute('href', canon);
    document.getElementById('altFr').setAttribute('href', location.origin + location.pathname + (id ? ('?id=' + encodeURIComponent(id) + '&lang=fr') : ''));
    document.getElementById('altEn').setAttribute('href', location.origin + location.pathname + (id ? ('?id=' + encodeURIComponent(id) + '&lang=en') : ''));
    document.getElementById('altX').setAttribute('href', canon);

    // Pick the post from data.js
    var postsFR = window.POSTS_FR || [];
    var postsEN = window.POSTS_EN || [];
    var posts = (lang === 'en' ? postsEN : postsFR);
    var post = posts.find(function (p) { return p.id === id; }) || {};

    // Title / Description
    var title = (post.title ? post.title : 'Article') + ' â€” BlueKioskTech';
    var desc = post.description || post.excerpt || 'Article du blog BlueKioskTech.';
    var datePub = post.date || new Date().toISOString().slice(0,10);
    var image = (/^https?:\/\//i.test(post.image||post.cover||'') ? (post.image||post.cover) : (location.origin + '/' + (post.image||post.cover||'assets/images/og-blog.jpg')));

    // Inject into <head>
    document.getElementById('postTitleTag').textContent = title;
    document.getElementById('postDescTag').setAttribute('content', desc);
    document.getElementById('ogTitle').setAttribute('content', title);
    document.getElementById('ogDesc').setAttribute('content', desc);
    document.getElementById('ogUrl').setAttribute('content', canon);
    document.getElementById('ogImage').setAttribute('content', image);

    // Fallback visible
    var h1 = document.getElementById('postTitle');
    if (h1 && !h1.textContent.trim() && post.title) h1.textContent = post.title;
    var metaDiv = document.getElementById('postMeta');
    if (metaDiv && !metaDiv.textContent.trim()) metaDiv.textContent = datePub;

    // JSON-LD BlogPosting
    var ld = {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": post.title || "Article",
      "inLanguage": lang,
      "image": [ image ],
      "datePublished": datePub,
      "dateModified": datePub,
      "author": { "@type": "Organization", "name": "BlueKioskTech" },
      "publisher": { "@type": "Organization", "name": "BlueKioskTech" },
      "mainEntityOfPage": { "@type": "WebPage", "@id": canon }
    };
    var s = document.createElement('script');
    s.type = 'application/ld+json';
    s.text = JSON.stringify(ld);
    document.head.appendChild(s);
  })();
  </script>

  <!-- JSON-LD BreadcrumbList -->
  <script>
  (function () {
    var u = new URL(location.href);
    var id = u.searchParams.get('id') || '';
    var lang = (u.searchParams.get('lang') || 'fr').toLowerCase();
    if (!['fr','en'].includes(lang)) lang = 'fr';

    var posts = (lang === 'en' ? (window.POSTS_EN||[]) : (window.POSTS_FR||[]));
    var post = posts.find(function(p){ return p.id === id; }) || {};
    var title = post.title || 'Article';

    var home = location.origin + '/';
    var blog = location.origin + '/blog.html';
    var article = location.origin + location.pathname + '?id=' + encodeURIComponent(id) + '&lang=' + lang;

    var breadcrumb = {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": (lang === 'en' ? "Home" : "Accueil"), "item": home },
        { "@type": "ListItem", "position": 2, "name": "Blog", "item": blog },
        { "@type": "ListItem", "position": 3, "name": title, "item": article }
      ]
    };

    var s = document.createElement('script');
    s.type = 'application/ld+json';
    s.text = JSON.stringify(breadcrumb);
    document.head.appendChild(s);
  })();
  </script>
  <script type="module" src="/assets/js/fetchPost.js?v=3"></script>

</body>
</html>
