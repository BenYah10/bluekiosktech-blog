backend:
  name: github
  repo: BenYah10/bluekiosktech-blog   # <— ton repo
  branch: dev                        # dev = brouillons / lot; mets main si tu veux publier direct prod
  auth_endpoint: /api/oauth

site_url: https://www.bluekiosktech.blog
publish_mode: editorial_workflow

media_folder: "assets/uploads"       # où les fichiers sont stockés dans le repo
public_folder: "/assets/uploads"     # URL publique

# Internationalisation (FR/EN) en sous-dossiers
i18n:
  structure: multiple_folders
  locales: [fr, en]
  default_locale: fr

collections:
  # ————————————————
  # Articles
  # ————————————————
  - name: "posts"
    label: "Articles"
    folder: "content/posts"
    create: true
    format: "frontmatter"
    slug: "{{slug}}"
    i18n: true
    path: "{{locale}}/{{year}}/{{month}}/{{slug}}"
    fields:
      - { label: "Titre",   name: "title",  widget: "string",   i18n: true }
      - { label: "Slug",    name: "slug",   widget: "string",   i18n: true, hint: "URL courte sans espaces" }
      - { label: "Date",    name: "date",   widget: "datetime", i18n: false }
      - { label: "Extrait", name: "excerpt",widget: "text",     i18n: true, required: false }
      - { label: "Image de couverture", name: "cover", widget: "image", required: false, i18n: false }
      - { label: "Texte alternatif",     name: "cover_alt", widget: "string", required: false, i18n: true }
      - {
          label: "Auteur", name: "author", widget: "relation", collection: "authors",
          search_fields: ["name"], value_field: "id", display_fields: ["name"],
          required: false, i18n: false
        }
      - { label: "Tags",    name: "tags",   widget: "list",     required: false, i18n: true }
      - { label: "Brouillon", name: "draft", widget: "boolean", default: false, i18n: false }
      - { label: "Contenu", name: "body",   widget: "markdown", i18n: true }

  # ————————————————
  # Auteurs (JSON)
  # ————————————————
  - name: "authors"
    label: "Auteurs"
    folder: "content/authors"
    create: true
    format: "json"
    i18n: false
    slug: "{{id}}"
    fields:
      - { label: "ID",     name: "id",     widget: "string" }
      - { label: "Nom",    name: "name",   widget: "string" }
      - { label: "Bio",    name: "bio",    widget: "text",   required: false }
      - { label: "Avatar", name: "avatar", widget: "image",  required: false }

  # ————————————————
  # Paramètres du site (JSON)
  # ————————————————
  - name: "settings"
    label: "Paramètres du site"
    i18n: false
    files:
      - label: "Général"
        name: "site"
        file: "content/settings/site.json"
        fields:
          - { label: "Titre du site",       name: "site_title",       widget: "string" }
          - { label: "Description du site", name: "site_description", widget: "text", required: false }
          - label: "Couleur primaire"
            name: "primary_color"
            widget: "color"
            allowInput: true
            enableAlpha: false
            default: "#0ea5e9"

# ————————————————————————————————————————————————————
# (Option) Cloudinary comme media library pro (à activer plus tard)
# media_library:
#   name: cloudinary
#   config:
#     cloud_name: "<cloud_name>"
#     api_key: "<api_key>"
#     default_transformations:
#       - - fetch_format: auto
#           quality: auto
# ————————————————————————————————————————————————————

