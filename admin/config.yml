# ============================================================
# 🔧 CONFIGURATION PRINCIPALE DU CMS (Decap CMS)
# ============================================================

backend:
  name: github
  branch: main
  repo: BenYah10/bluekiosktech-blog
  base_url: https://www.bluekiosktech.blog
  auth_endpoint: api/oauth   # <= sans slash initial
  site_domain: www.bluekiosktech.blog
  

media_folder: "assets/images/uploads"
public_folder: "/assets/images/uploads"

# ============================================================
# 🌍 LOCALISATION ET PARAMÈTRES GÉNÉRAUX
# ============================================================
local_backend: false        # <= désactivé en production
i18n:
  structure: multiple_folders
  locales: [fr, en]
  default_locale: fr

# ============================================================
# 📂 DÉFINITION DES COLLECTIONS
# Chaque "collection" correspond à une section du CMS (Articles, Auteurs, etc.)
# ============================================================

collections:
  # ------------------------------------------------------------
  # 📝 ARTICLES DU BLOG
  # ------------------------------------------------------------
  - name: "posts"           # Nom interne de la collection
    label: "Articles"       # Nom affiché dans le CMS
    folder: "content/posts" # Dossier où sont stockés les fichiers
    create: true            # Autorise la création de nouveaux articles
    slug: "{{slug}}"        # Modèle pour le nom du fichier créé

    fields:                 # Liste des champs à remplir
      - { label: "Titre", name: "title", widget: "string", i18n: true }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Auteur", name: "author", widget: "string" }
      - { label: "Description", name: "description", widget: "text", i18n: true }
      - { label: "Image Principale", name: "thumbnail", widget: "image", required: false }
      - { label: "Contenu", name: "body", widget: "markdown", i18n: true }
      - { label: "Catégorie", name: "category", widget: "select", options: ["Tech", "Business", "E-commerce"], i18n: true }
      - { label: "Couleur du thème", name: "color", widget: "color" } # i18n retiré car non supporté sur widget color

  # ------------------------------------------------------------
  # 👤 AUTEURS
  # ------------------------------------------------------------
  - name: "authors"
    label: "Auteurs"
    folder: "content/authors"
    create: true
    slug: "{{slug}}"

    fields:
      - { label: "Nom", name: "name", widget: "string", i18n: true }
      - { label: "Biographie", name: "bio", widget: "text", i18n: true }
      - { label: "Photo", name: "avatar", widget: "image", required: false }

  # ------------------------------------------------------------
  # ⚙️ PARAMÈTRES DU SITE (gérés via un fichier unique)
  # ------------------------------------------------------------
  - name: "settings"
    label: "Paramètres du site"
    files:
      - file: "content/settings/site.json"  # Fichier JSON unique pour les paramètres
        label: "Site"
        name: "site"
        fields:
          - { label: "Titre du site", name: "title", widget: "string", i18n: true }
          - { label: "Description", name: "description", widget: "text", i18n: true }
          - label: "Liens sociaux"
            name: "socials"
            widget: "object"
            fields:
              - { label: "Facebook", name: "facebook", widget: "string", required: false }
              - { label: "Instagram", name: "instagram", widget: "string", required: false }
              - { label: "LinkedIn", name: "linkedin", widget: "string", required: false }
          - label: "Thème"
            name: "theme"
            widget: "object"
            fields:
              - { label: "Couleur principale", name: "primary_color", widget: "color" } # corrigé (i18n supprimé)
              - { label: "Couleur secondaire", name: "secondary_color", widget: "color" } # corrigé




