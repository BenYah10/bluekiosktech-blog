# ============================================================
# üîß CONFIGURATION PRINCIPALE DU CMS (Decap CMS)
# ============================================================

backend:
  name: git-gateway      # Type d'authentification (Git Gateway via Netlify ou Vercel)
  branch: main           # Branche du d√©p√¥t utilis√©e pour enregistrer les articles
  repo: BenYah10/bluekiosktech-blog  # Nom complet du d√©p√¥t GitHub

media_folder: "public/images/uploads"   # Dossier o√π seront stock√©es les images
public_folder: "/images/uploads"        # Chemin public (acc√®s via le site)

# ============================================================
# üåç LOCALISATION ET PARAM√àTRES G√âN√âRAUX
# ============================================================
local_backend: true     # Permet de tester le CMS localement sans back-end
i18n:
  structure: multiple_folders  # Chaque langue a son dossier
  locales: [fr, en]            # Langues support√©es
  default_locale: fr           # Langue par d√©faut

# ============================================================
# üìÇ D√âFINITION DES COLLECTIONS
# Chaque "collection" correspond √† une section du CMS (Articles, Auteurs, etc.)
# ============================================================

collections:
  # ------------------------------------------------------------
  # üìù ARTICLES DU BLOG
  # ------------------------------------------------------------
  - name: "posts"           # Nom interne de la collection
    label: "Articles"       # Nom affich√© dans le CMS
    folder: "content/posts" # Dossier o√π sont stock√©s les fichiers
    create: true            # Autorise la cr√©ation de nouveaux articles
    slug: "{{slug}}"        # Mod√®le pour le nom du fichier cr√©√©

    fields:                 # Liste des champs √† remplir
      - { label: "Titre", name: "title", widget: "string", i18n: true }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Auteur", name: "author", widget: "string" }
      - { label: "Description", name: "description", widget: "text", i18n: true }
      - { label: "Image Principale", name: "thumbnail", widget: "image", required: false }
      - { label: "Contenu", name: "body", widget: "markdown", i18n: true }
      - { label: "Cat√©gorie", name: "category", widget: "select", options: ["Tech", "Business", "E-commerce"], i18n: true }
      - { label: "Couleur du th√®me", name: "color", widget: "color" } # i18n retir√© car non support√© sur widget color

  # ------------------------------------------------------------
  # üë§ AUTEURS
  # ------------------------------------------------------------
  - name: "authors"
    label: "Auteurs"
    folder: "content/authors"
    create: true
    slug: "{{slug}}"

    fields:
      - { label: "Nom", name: "name", widget: "string", i18n: true }
      - { label: "Biographie", name: "bio", widget: "text", i18n: true }
      - { label: "Photo", name: "avatar", widget: "image", required: false }

  # ------------------------------------------------------------
  # ‚öôÔ∏è PARAM√àTRES DU SITE (g√©r√©s via un fichier unique)
  # ------------------------------------------------------------
  - name: "settings"
    label: "Param√®tres du site"
    files:
      - file: "content/settings/site.json"  # Fichier JSON unique pour les param√®tres
        label: "Site"
        name: "site"
        fields:
          - { label: "Titre du site", name: "title", widget: "string", i18n: true }
          - { label: "Description", name: "description", widget: "text", i18n: true }
          - label: "Liens sociaux"
            name: "socials"
            widget: "object"
            fields:
              - { label: "Facebook", name: "facebook", widget: "string", required: false }
              - { label: "Instagram", name: "instagram", widget: "string", required: false }
              - { label: "LinkedIn", name: "linkedin", widget: "string", required: false }
          - label: "Th√®me"
            name: "theme"
            widget: "object"
            fields:
              - { label: "Couleur principale", name: "primary_color", widget: "color" } # corrig√© (i18n supprim√©)
              - { label: "Couleur secondaire", name: "secondary_color", widget: "color" } # corrig√©
