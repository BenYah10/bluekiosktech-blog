# ============================================================
# ðŸ”§ CONFIGURATION PRINCIPALE DU CMS (Decap CMS)
# ============================================================

backend:
  name: github
  branch: main
  repo: BenYah10/bluekiosktech-blog
  base_url: https://www.bluekiosktech.blog
  auth_endpoint: api/oauth   # <= sans slash initial
  site_domain: www.bluekiosktech.blog
  

media_folder: "assets/images/uploads"
public_folder: "/assets/images/uploads"

# ============================================================
# ðŸŒ LOCALISATION ET PARAMÃˆTRES GÃ‰NÃ‰RAUX
# ============================================================
local_backend: false        # <= dÃ©sactivÃ© en production
i18n:
  structure: multiple_folders
  locales: [fr, en]
  default_locale: fr

# ============================================================
# ðŸ“‚ DÃ‰FINITION DES COLLECTIONS
# Chaque "collection" correspond Ã  une section du CMS (Articles, Auteurs, etc.)
# ============================================================

collections:
  # ------------------------------------------------------------
  # ðŸ“ ARTICLES DU BLOG
  # ------------------------------------------------------------
  - name: "posts"           # Nom interne de la collection
    label: "Articles"       # Nom affichÃ© dans le CMS
    folder: "content/posts" # Dossier oÃ¹ sont stockÃ©s les fichiers
    create: true            # Autorise la crÃ©ation de nouveaux articles
    slug: "{{slug}}"        # ModÃ¨le pour le nom du fichier crÃ©Ã©

    fields:                 # Liste des champs Ã  remplir
      - { label: "Titre", name: "title", widget: "string", i18n: true }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Auteur", name: "author", widget: "string" }
      - { label: "Description", name: "description", widget: "text", i18n: true }
      - { label: "Image Principale", name: "thumbnail", widget: "image", required: false }
      - { label: "Contenu", name: "body", widget: "markdown", i18n: true }
      - { label: "CatÃ©gorie", name: "category", widget: "select", options: ["Tech", "Business", "E-commerce"], i18n: true }
      - { label: "Couleur du thÃ¨me", name: "color", widget: "color" } # i18n retirÃ© car non supportÃ© sur widget color

  # ------------------------------------------------------------
  # ðŸ‘¤ AUTEURS
  # ------------------------------------------------------------
  - name: "authors"
    label: "Auteurs"
    folder: "content/authors"
    create: true
    slug: "{{slug}}"

    fields:
      - { label: "Nom", name: "name", widget: "string", i18n: true }
      - { label: "Biographie", name: "bio", widget: "text", i18n: true }
      - { label: "Photo", name: "avatar", widget: "image", required: false }

  # ------------------------------------------------------------
  # âš™ï¸ PARAMÃˆTRES DU SITE (gÃ©rÃ©s via un fichier unique)
  # ------------------------------------------------------------
  - name: "settings"
    label: "ParamÃ¨tres du site"
    files:
      - file: "content/settings/site.json"  # Fichier JSON unique pour les paramÃ¨tres
        label: "Site"
        name: "site"
        fields:
          - { label: "Titre du site", name: "title", widget: "string", i18n: true }
          - { label: "Description", name: "description", widget: "text", i18n: true }
          - label: "Liens sociaux"
            name: "socials"
            widget: "object"
            fields:
              - { label: "Facebook", name: "facebook", widget: "string", required: false }
              - { label: "Instagram", name: "instagram", widget: "string", required: false }
              - { label: "LinkedIn", name: "linkedin", widget: "string", required: false }
          - label: "ThÃ¨me"
            name: "theme"
            widget: "object"
            fields:
              - { label: "Couleur principale", name: "primary_color", widget: "color" } # corrigÃ© (i18n supprimÃ©)
              - { label: "Couleur secondaire", name: "secondary_color", widget: "color" } # corrigÃ©




